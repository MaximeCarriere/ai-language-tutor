<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pocket Tutor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        *, *::before, *::after { box-sizing: border-box; }
        body { font-family: 'Nunito', system-ui, sans-serif; background-color: #f0f4f8; color: #333; margin: 0; padding: 20px; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .container { width: 100%; max-width: 500px; background: #ffffff; border-radius: 24px; padding: 24px 32px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08); text-align: center; }
        h1 { color: #2c3e50; font-size: 2.5em; margin-bottom: 8px; }
        .subtitle { color: #7f8c8d; font-size: 1.1em; margin-top: 0; margin-bottom: 24px; }
        .lang-selector { margin-bottom: 24px; border-top: 2px dashed #e0e0e0; padding-top: 24px; }
        #lang-select { padding: 10px 16px; font-size: 1.1em; border-radius: 12px; border: 1px solid #ccc; width: 100%; background-color: #f8f9fa; }
        .lang-selector label { display: block; margin-bottom: 8px; font-weight: 700; color: #34495e; }
        h2 { color: #34495e; border-top: 2px dashed #e0e0e0; padding-top: 24px; margin-top: 0; }
        ul { list-style: none; padding-left: 0; margin: 0; }
        li { margin: 12px 0; }
        li a { display: flex; align-items: center; padding: 16px 20px; font-size: 1.2em; font-weight: 700; text-decoration: none; color: #34495e; background-color: #ecf0f1; border-radius: 12px; transition: transform 0.2s ease, background-color 0.2s ease; }
        [dir="rtl"] li a { flex-direction: row-reverse; }
        [dir="rtl"] .icon { margin-right: 0; margin-left: 16px; }
        li a:hover { background-color: #e0e8ea; transform: scale(1.03); }
        .icon { font-size: 1.5em; margin-right: 16px; }
        .footer-note { margin-top: 32px; color: #95a5a6; font-size: 0.9em; }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="main-title">Pocket Tutor</h1>
        <p class="subtitle" id="subtitle">Your Fun Learning Adventure!</p>

        <div class="lang-selector">
            <label for="lang-select" id="lang-label">Choose your language:</label>
            <select id="lang-select" onchange="updatePageLanguage()">
                <option value="en" selected>English</option>
                <option value="ar" style="font-family: 'Noto Naskh Arabic', serif;">Arabic (Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)</option>
                <option value="prs" style="font-family: 'Noto Naskh Arabic', serif;">Dari (Ø¯Ø±ÛŒ)</option>
            </select>
        </div>

        <h2 id="activity-title">Choose a Level</h2>
        <ul id="learning-links"></ul>

        <p class="footer-note">Offline-first & private, powered by Gemma 3n.</p>
    </div>

    <script>
        // MODIFIED: The links are now structured by learning level.
        const translations = {
            en: {
                title: "Pocket Tutor",
                subtitle: "Your Fun Learning Adventure!",
                lang_label: "Choose your language:",
                activity_title: "Choose a Level",
                links: [
                    { href: '/letter', text: 'Letters', icon: 'ðŸ”¤' },
                    { href: '/words', text: 'Words', icon: 'ðŸ“–' },
                    { href: '/sentences', text: 'Sentences', icon: 'ðŸª„' } 
                ]
            },
            ar: {
                title: "Ø§Ù„Ù…Ø¹Ù„Ù… Ø§Ù„Ø¬ÙŠØ¨ÙŠ",
                subtitle: "Ù…ØºØ§Ù…Ø±ØªÙƒ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ù…Ù…ØªØ¹Ø©!",
                lang_label: "Ø§Ø®ØªØ± Ù„ØºØªÙƒ:",
                activity_title: "Ø§Ø®ØªØ± Ù…Ø³ØªÙˆØ§Ùƒ",
                links: [
                    { href: '/letter', text: 'Ø§Ù„Ø­Ø±ÙˆÙ', icon: 'ðŸ”¤' },
                    { href: '/word_exercise', text: 'Ø§Ù„ÙƒÙ„Ù…Ø§Øª', icon: 'ðŸ“–' },
                    { href: '/story', text: 'Ø§Ù„Ø¬Ù…Ù„', icon: 'ðŸª„' }
                ]
            },
            prs: {
                title: "Ù…Ø¹Ù„Ù… Ø¬ÛŒØ¨ÛŒ",
                subtitle: "Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø³Ø±Ú¯Ø±Ù… Ú©Ù†Ù†Ø¯Ù‡ Ø´Ù…Ø§!",
                lang_label: "Ø²Ø¨Ø§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:",
                activity_title: "ÛŒÚ© Ø³Ø·Ø­ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯",
                links: [
                    { href: '/letter', text: 'Ø­Ø±ÙˆÙ', icon: 'ðŸ”¤' },
                    { href: '/word_exercise', text: 'Ú©Ù„Ù…Ø§Øª', icon: 'ðŸ“–' },
                    { href: '/story', text: 'Ø¬Ù…Ù„Ø§Øª', icon: 'ðŸª„' }
                ]
            }
        };

        function updatePageLanguage() {
            const lang = document.getElementById('lang-select').value;
            const content = translations[lang];
            
            if (lang === 'ar' || lang === 'prs') {
                document.documentElement.setAttribute('dir', 'rtl');
                document.body.style.fontFamily = "'Noto Naskh Arabic', serif";
            } else {
                document.documentElement.setAttribute('dir', 'ltr');
                document.body.style.fontFamily = "'Nunito', sans-serif";
            }

            document.getElementById('main-title').textContent = content.title;
            document.getElementById('subtitle').textContent = content.subtitle;
            document.getElementById('lang-label').textContent = content.lang_label;
            document.getElementById('activity-title').textContent = content.activity_title;
            
            const linksContainer = document.getElementById('learning-links');
            let html = '';
            content.links.forEach(link => {
                const linkHref = `${link.href}?lang=${lang}`;
                html += `<li><a href="${linkHref}"><span class="icon">${link.icon}</span> ${link.text}</a></li>`;
            });
            linksContainer.innerHTML = html;
        }

        document.addEventListener('DOMContentLoaded', updatePageLanguage);
    </script>
</body>
</html>
